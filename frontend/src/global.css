/** **************************************
* Fonts: app
*************************************** */
@import '@fontsource/public-sans/400.css';
@import '@fontsource/public-sans/500.css';
@import '@fontsource/public-sans/600.css';
@import '@fontsource/public-sans/700.css';
@import '@fontsource/public-sans/800.css';

/** **************************************
* Phone Number Input CSS
*************************************** */
@import 'react-phone-number-input/style.css';

@import '@fontsource/barlow/400.css';
@import '@fontsource/barlow/500.css';
@import '@fontsource/barlow/600.css';
@import '@fontsource/barlow/700.css';
@import '@fontsource/barlow/800.css';

/** **************************************
* Fonts: options
*************************************** */
@import '@fontsource/dm-sans/400.css';
@import '@fontsource/dm-sans/500.css';
@import '@fontsource/dm-sans/600.css';
@import '@fontsource/dm-sans/700.css';
@import '@fontsource/dm-sans/800.css';

@import '@fontsource/inter/400.css';
@import '@fontsource/inter/500.css';
@import '@fontsource/inter/600.css';
@import '@fontsource/inter/700.css';
@import '@fontsource/inter/800.css';

@import '@fontsource/nunito-sans/400.css';
@import '@fontsource/nunito-sans/500.css';
@import '@fontsource/nunito-sans/600.css';
@import '@fontsource/nunito-sans/700.css';
@import '@fontsource/nunito-sans/800.css';

/** **************************************
* Plugins
*************************************** */
/* scrollbar */
@import './components/scrollbar/styles.css';

/** **************************************
* Baseline
*************************************** */
html {
  height: 100%;
  -webkit-overflow-scrolling: touch;
}
body,
#root,
#root__layout {
  display: flex;
  flex: 1 1 auto;
  min-height: 100%;
  flex-direction: column;
  margin-top: 0;
}
img {
  max-width: 100%;
  vertical-align: middle;
}
ul {
  margin: 0;
  padding: 0;
  list-style-type: none;
}
input[type='number'] {
  -moz-appearance: textfield;
  appearance: none;
}
input[type='number']::-webkit-outer-spin-button {
  margin: 0;
  -webkit-appearance: none;
}
input[type='number']::-webkit-inner-spin-button {
  margin: 0;
  -webkit-appearance: none;
}

/** **************************************
* Material-UI CircularProgress Fixes
*************************************** */
.MuiCircularProgress-root {
  border-radius: 50% !important;
  overflow: visible !important;
}

.MuiCircularProgress-root .MuiCircularProgress-circle {
  border-radius: 50% !important;
}

.MuiCircularProgress-svg {
  border-radius: 50% !important;
  overflow: visible !important;
}

/* Ensure SVG elements are circular */
.MuiCircularProgress-root svg {
  border-radius: 50% !important;
}

.MuiCircularProgress-root svg circle {
  border-radius: 50% !important;
}

/* Force circular display for all progress indicators */
[class*="MuiCircularProgress"] {
  border-radius: 50% !important;
}

/** **************************************
* Circular Lazy Loading Image Fixes
*************************************** */
/* Ensure circular containers maintain their shape during lazy loading */
[style*="border-radius: 50%"] .lazy-load-image-background,
[style*="border-radius: 50%"] .lazy-load-image-wrapper,
[style*="border-radius: 50%"] .lazy-load-image-background img {
  border-radius: 50% !important;
}

/* Fix for circular avatar images */
.MuiAvatar-root .lazy-load-image-background,
.MuiAvatar-root .lazy-load-image-wrapper {
  border-radius: 50% !important;
}

/* Fix for any element with circular border radius */
[class*="circular"] .lazy-load-image-background,
[class*="circular"] .lazy-load-image-wrapper {
  border-radius: 50% !important;
}

/* Comprehensive fix for all lazy loading states */
.lazy-load-image-background.blur,
.lazy-load-image-background.blur.lazy-load-image-loaded,
.lazy-load-image-background.blur.lazy-load-image-loading {
  border-radius: inherit !important;
}

.lazy-load-image-wrapper {
  border-radius: inherit !important;
}

/* Force all lazy loading elements to respect their container's border radius */
.lazy-load-image-background,
.lazy-load-image-wrapper,
.lazy-load-image-background img {
  border-radius: inherit !important;
}

/* Specific fix for circular containers */
[style*="border-radius: 50%"] *,
[style*="border-radius: 50%"] *::before,
[style*="border-radius: 50%"] *::after {
  border-radius: inherit !important;
}

/* Fix for nested lazy loading elements */
.lazy-load-image-background .lazy-load-image-background {
  border-radius: inherit !important;
}

/* Fix for Select dropdowns appearing behind Dialog modals */
.MuiDialog-root ~ .MuiPopover-root,
.MuiDialog-root ~ .MuiMenu-root,
.MuiPopover-root[role="listbox"],
.MuiMenu-root[role="listbox"] {
  z-index: 1600 !important;
}

.MuiDialog-root ~ .MuiPopover-root .MuiPaper-root,
.MuiDialog-root ~ .MuiMenu-root .MuiPaper-root {
  z-index: 1600 !important;
}

/* Ensure all dropdown menus from selects have proper z-index */
.MuiSelect-select + .MuiPopover-root,
.MuiTextField-root[data-select="true"] + .MuiPopover-root {
  z-index: 1600 !important;
}

/* Print styles - now using PDF generation for consistent layout */
@media print {
  /* Hide navigation and other non-essential elements */
  nav,
  .MuiAppBar-root,
  .sidebar,
  .print-hide,
  button:not(.print-show),
  .MuiIconButton-root,
  .MuiFab-root {
    display: none !important;
  }

  /* Ensure invoice content takes full width and fits on one page */
  .print-content,
  .MuiCard-root {
    box-shadow: none !important;
    border: none !important;
    margin: 0 !important;
    padding: 3px !important;
    width: 100% !important;
    max-width: none !important;
    font-size: 9pt !important;
  }

  /* Optimize typography for single page print */
  body {
    -webkit-print-color-adjust: exact !important;
    print-color-adjust: exact !important;
    font-size: 10pt !important;
    line-height: 1.3 !important;
    margin: 0 !important;
  }

  /* Better text sizing and spacing */
  h1, h2, h3, h4, h5, h6 {
    font-size: 12pt !important;
    margin: 4px 0 !important;
    line-height: 1.2 !important;
    font-weight: bold !important;
  }

  p, div, span {
    font-size: 10pt !important;
    margin: 3px 0 !important;
    line-height: 1.3 !important;
  }

  /* Hide action buttons in header */
  .invoice-actions {
    display: none !important;
  }

  /* Compact table styling for single page */
  table {
    font-size: 8pt !important;
    margin: 2px 0 !important;
    width: 100% !important;
    border-collapse: collapse !important;
  }

  table td, table th {
    padding: 2px 3px !important;
    font-size: 8pt !important;
    line-height: 1.1 !important;
    vertical-align: top !important;
    border: 1px solid #ddd !important;
  }

  /* Compact table header styling */
  table th {
    font-weight: bold !important;
    background-color: #f5f5f5 !important;
    padding: 1px 3px !important;
  }

  /* Specific styling for item descriptions to save space */
  table td:nth-child(2) {
    font-size: 7pt !important;
    line-height: 1.0 !important;
    max-width: 200px !important;
  }

  /* Compact spacing between sections */
  .MuiDivider-root {
    margin: 3px 0 !important;
  }

  /* Compact spacing for invoice sections */
  .MuiBox-root {
    margin: 3px 0 !important;
    padding: 2px !important;
  }

  /* Compact spacing for financial summary */
  .invoice-summary {
    margin-top: 4px !important;
    padding: 2px !important;
  }

  /* Compact notes section spacing */
  .invoice-notes {
    margin-top: 5px !important;
    padding: 2px !important;
  }

  /* Allow content to break naturally, avoid forcing page breaks */
  * {
    page-break-before: auto !important;
    page-break-after: auto !important;
  }
  
  /* Only avoid breaks for critical elements */
  table, .invoice-summary, .invoice-notes {
    page-break-inside: avoid !important;
  }

  /* Better typography spacing */
  .MuiTypography-root {
    margin: 2px 0 !important;
    font-size: 10pt !important;
    line-height: 1.3 !important;
  }

  /* Better grid spacing */
  .MuiGrid-item {
    padding: 3px !important;
  }

  /* Reduce logo and header spacing */
  .invoice-header {
    margin-bottom: 5px !important;
  }
}
